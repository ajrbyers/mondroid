{% extends "base.html" %}

{% block content %}
	<h2>{{ monitor.name }} - {{ monitor.url }}</h2>
	<hr />
	{% if downtime_list %}
	<h4> Outages</h4>
			
	{% for outage in downtime_list %}
	<table class="table table-striped">
		<tr>
			<th>Status</th>
			<th>Date/Time</th>
			<th>Note</th>
		</tr>
		{% for check in outage.checks.all %}		
		<tr>
			<td>{{ check }}</td>
			<td>{{ check.capture }}</td>
			<td><span style="color:{% if forloop.first %}red;"> Outage Begins{% elif outage.active == False and forloop.last %}green;">Outage Finishes{% else %}orange;">Outage Ongoing{% endif %}</span>
		</tr>
		{% empty %}
			<tr>
				<td colspan="3"><p>There are no monitors. Add one.</td>
			</tr>
		{% endfor %}		
	</table>
	{% endfor %}
	{% endif %}

	<h4> Checks</h4>
	<table class="table table-striped">
		<tr>
			<th>Status Code</th>
			<th>History</th>
			<th>Time Elapsed</th>
			<th>Time Captured</th>
			<th>Up?</th>
		</tr>
		{% for check in check_list %}
		<tr>
			<td>{{ check.status_code }}</td>
			<td>{{ check.history }}</td>
			<td>{{ check.elapsed_time }}</td>
			<td>{{ check.capture }}</td>
			<td>{% if check.up %}<i style="color:green" class="fa fa-arrow-circle-o-up"></i>{% else %}<i style="color:red" class="fa fa-arrow-circle-o-down"></i>{% endif %}</td>
		</tr>
		{% endfor %}
	</table>

{% endblock content %}